{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst refs = {\n  formEl: document.querySelector('.js-form'),\n  inputSearchEl: document.querySelector('.input-search'),\n  btnSearchEl: document.querySelector('.btn-search'),\n  markupEl: document.querySelector('.markup'),\n  loader: document.querySelector('.loader'),\n};\n\nfunction showLoader() {\n  refs.loader.classList.remove('hidden');\n}\nfunction hideLoader() {\n  refs.loader.classList.add('hidden');\n}\n// showLoader();\nhideLoader();\n\nrefs.formEl.addEventListener('submit', onSearchImages);\n\nfunction onSearchImages(e) {\n  e.preventDefault();\n  const inputValue = refs.formEl.elements.image.value.trim();\n  if (!inputValue) return;\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  refs.formEl.reset();\n  return fetch(\n    `${BASE_URL}${END_POINT}?key=45015838-73ef95672254612a035b0fb4a&q=${inputValue}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(value => {\n      if (!value.ok) throw new Error(value.status);\n      return value.json();\n    })\n    .then(value => {\n      if (!value.hits.length) {\n        iziToast.show({\n          title: 'Oops',\n          titleColor: '#FAFAFB',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: '#FAFAFB',\n          backgroundColor: '#EF4040',\n          position: 'topRight',\n          timeout: 3000,\n        });\n      }\n      return value.hits;\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        titleColor: '#FAFAFB',\n        message: 'Sorry, something wrong',\n        position: 'topRight',\n        messageColor: '#FAFAFB',\n        backgroundColor: '#EF4040',\n        position: 'topRight',\n        timeout: 3000,\n      });\n    });\n}\n\nfunction imageMarkupTemplate(arr) {\n  return arr\n    .map(item => {\n      `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${item.largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${item.webformatURL}\"\n      alt=\"${item.tags}\"\n      width=\"360\"\n      height=\"200\"\n    />\n     <ul class=\"image-dsc\">\n        <li > \n            <p class=\"image-dsc-title\">Likes</p>\n            <p class=\"image-dsc-text\">${item.likes}</p>\n        </li>\n         <li > \n            <p class=\"image-dsc-title\">Views</p>\n            <p class=\"image-dsc-text\">${item.views}</p>\n        </li>\n        <li > \n            <p class=\"image-dsc-title\">Comments</p>\n            <p class=\"image-dsc-text\">${item.comments}</p>\n        </li>\n        <li > \n            <p class=\"image-dsc-title\">Downloads</p>\n            <p class=\"image-dsc-text\">${item.downloads}</p>\n        </li>\n     </ul>\n  </a>\n</li>`;\n    })\n    .join('');\n}\n\nfunction imagesMarkup(arr) {\n  return arr.map(imageMarkupTemplate).join(' ');\n}\n\nfunction renderImages(arr) {\n  const markup = imagesMarkup(arr);\n  refs.markupEl.innerHTML = markup;\n}\n"],"names":["refs","hideLoader","onSearchImages","e","inputValue","BASE_URL","END_POINT","value","iziToast","error"],"mappings":"svBAGA,MAAMA,EAAO,CACX,OAAQ,SAAS,cAAc,UAAU,EACzC,cAAe,SAAS,cAAc,eAAe,EACrD,YAAa,SAAS,cAAc,aAAa,EACjD,SAAU,SAAS,cAAc,SAAS,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAKA,SAASC,GAAa,CACpBD,EAAK,OAAO,UAAU,IAAI,QAAQ,CACpC,CAEAC,IAEAD,EAAK,OAAO,iBAAiB,SAAUE,CAAc,EAErD,SAASA,EAAeC,EAAG,CACzBA,EAAE,eAAc,EAChB,MAAMC,EAAaJ,EAAK,OAAO,SAAS,MAAM,MAAM,OACpD,GAAI,CAACI,EAAY,OACjB,MAAMC,EAAW,sBACXC,EAAY,QAClB,OAAAN,EAAK,OAAO,QACL,MACL,GAAGK,CAAQ,GAAGC,CAAS,6CAA6CF,CAAU,0DAC/E,EACE,KAAKG,GAAS,CACb,GAAI,CAACA,EAAM,GAAI,MAAM,IAAI,MAAMA,EAAM,MAAM,EAC3C,OAAOA,EAAM,MACnB,CAAK,EACA,KAAKA,IACCA,EAAM,KAAK,QACdC,EAAS,KAAK,CACZ,MAAO,OACP,WAAY,UACZ,QACE,2EACF,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,QAAS,GACnB,CAAS,EAEID,EAAM,KACd,EACA,MAAME,GAAS,CACdD,EAAS,MAAM,CACb,MAAO,QACP,WAAY,UACZ,QAAS,yBACT,SAAU,WACV,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,QAAS,GACjB,CAAO,CACP,CAAK,CACL"}