{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst refs = {\n  formEl: document.querySelector('.js-form'),\n  inputSearchEl: document.querySelector('.input-search'),\n  btnSearchEl: document.querySelector('.btn-search'),\n  markupEl: document.querySelector('.markup'),\n  loader: document.querySelector('.loader'),\n};\n\nfunction showLoader() {\n  refs.loader.classList.remove('hidden');\n}\nfunction hideLoader() {\n  refs.loader.classList.add('hidden');\n}\n// showLoader();\nhideLoader();\n\n// refs.inputSearchEl.addEventListener('input', e => {\n//   if (e.target.value === '') return;\n// });\n\n// textInput.addEventListener('input', event => {\n//   output.textContent = event.currentTarget.value;\n// });\n\nrefs.formEl.addEventListener('submit', onSearchImages);\n\nfunction onSearchImages(e) {\n  //   e.preventDefault();\n  const inputValue = refs.formEl.elements.image.value;\n  if (inputValue === '') return;\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  refs.formEl.reset();\n  return fetch(\n    `${BASE_URL}${END_POINT}?key=45015838-73ef95672254612a035b0fb4a&q=${inputValue}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(value => {\n      if (!value.ok) throw new Error(value.status);\n      return value.json();\n    })\n    .then(value => {\n      if (!value.hits.length) {\n        iziToast.show({\n          title: 'Oops',\n          titleColor: '#FAFAFB',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: '#FAFAFB',\n          backgroundColor: '#EF4040',\n          position: 'topRight',\n          timeout: 3000,\n        });\n      }\n      return value;\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        titleColor: '#FAFAFB',\n        message: 'Sorry, something wrong',\n        position: 'topRight',\n        messageColor: '#FAFAFB',\n        backgroundColor: '#EF4040',\n        position: 'topRight',\n        timeout: 3000,\n      });\n    });\n}\n\nfunction imageTemplate(arr) {\n  return arr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${webformatURL}\"\n      alt=\"${(tags, likes, views, comments, downloads)}\"\n    />\n  </a>\n</li>`\n    )\n    .join('');\n}\n\nfunction addImages(arr) {\n  return arr.map(imageTemplate).join('');\n}\n\n// function renderImages() {\n//   const result = onSearchImages();\n//   console.log(result);\n//   const markup = addImages(result.hits);\n//   refs.markupEl.innerHTML = markup;\n// }\n\n// renderImages();\n"],"names":["refs","hideLoader","onSearchImages","e","inputValue","BASE_URL","END_POINT","value","iziToast","error"],"mappings":"svBAGA,MAAMA,EAAO,CACX,OAAQ,SAAS,cAAc,UAAU,EACzC,cAAe,SAAS,cAAc,eAAe,EACrD,YAAa,SAAS,cAAc,aAAa,EACjD,SAAU,SAAS,cAAc,SAAS,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAKA,SAASC,GAAa,CACpBD,EAAK,OAAO,UAAU,IAAI,QAAQ,CACpC,CAEAC,IAUAD,EAAK,OAAO,iBAAiB,SAAUE,CAAc,EAErD,SAASA,EAAeC,EAAG,CAEzB,MAAMC,EAAaJ,EAAK,OAAO,SAAS,MAAM,MAC9C,GAAII,IAAe,GAAI,OACvB,MAAMC,EAAW,sBACXC,EAAY,QAClB,OAAAN,EAAK,OAAO,QACL,MACL,GAAGK,CAAQ,GAAGC,CAAS,6CAA6CF,CAAU,0DAC/E,EACE,KAAKG,GAAS,CACb,GAAI,CAACA,EAAM,GAAI,MAAM,IAAI,MAAMA,EAAM,MAAM,EAC3C,OAAOA,EAAM,MACnB,CAAK,EACA,KAAKA,IACCA,EAAM,KAAK,QACdC,EAAS,KAAK,CACZ,MAAO,OACP,WAAY,UACZ,QACE,2EACF,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,QAAS,GACnB,CAAS,EAEID,EACR,EACA,MAAME,GAAS,CACdD,EAAS,MAAM,CACb,MAAO,QACP,WAAY,UACZ,QAAS,yBACT,SAAU,WACV,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,QAAS,GACjB,CAAO,CACP,CAAK,CACL"}