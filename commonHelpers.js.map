{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function imageMarkupTemplate(arr) {\n  return arr\n    .map(item => {\n      return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${item.largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${item.webformatURL}\"\n      alt=\"${item.tags}\"\n    />\n  </a>\n     <ul class=\"image-desc\">\n        <li class=\"image-subtitle\"> \n            <h3 class=\"image-desc-title\">Likes</h3>\n            <p class=\"image-desc-text\">${item.likes}</p>\n        </li>\n         <li class=\"image-subtitle\"> \n            <h3 class=\"image-desc-title\">Views</h3>\n            <p class=\"image-desc-text\">${item.views}</p>\n        </li>\n        <li class=\"image-subtitle\"> \n            <h3 class=\"image-desc-title\">Comments</h3>\n            <p class=\"image-desc-text\">${item.comments}</p>\n        </li>\n        <li class=\"image-subtitle\"> \n            <h3 class=\"image-desc-title\">Downloads</h3>\n            <p class=\"image-desc-text\">${item.downloads}</p>\n        </li>\n     </ul>\n</li>`;\n    })\n    .join('');\n}\n","export function onSearchImages(inputValue) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const params = new URLSearchParams({\n    key: '45015838-73ef95672254612a035b0fb4a',\n    q: inputValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  return fetch(`${BASE_URL}${END_POINT}?${params}`).then(value => {\n    if (!value.ok) throw new Error(value.status);\n    return value.json();\n  });\n}\n","import { imageMarkupTemplate } from './js/render-functions';\nimport { onSearchImages } from './js/pixabay-api';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst refs = {\n  formEl: document.querySelector('.js-form'),\n  inputSearchEl: document.querySelector('.input-search'),\n  btnSearchEl: document.querySelector('.btn-search'),\n  markupEl: document.querySelector('.markup'),\n  loader: document.querySelector('.loader'),\n};\n\nhideLoader();\n\nrefs.formEl.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  showLoader();\n  refs.markupEl.innerHTML = '';\n  const inputValue = refs.formEl.elements.image.value.trim();\n  if (!inputValue) return;\n  refs.formEl.reset();\n  onSearchImages(inputValue)\n    .then(value => {\n      if (!value.hits.length) {\n        iziToast.show({\n          title: 'Oops',\n          titleColor: '#FAFAFB',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: '#FAFAFB',\n          backgroundColor: '#EF4040',\n          position: 'topRight',\n          timeout: 3000,\n        });\n        return;\n      }\n      renderImages(value.hits);\n      gallery.refresh();\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        titleColor: '#FAFAFB',\n        message: 'Sorry, something wrong',\n        position: 'topRight',\n        messageColor: '#FAFAFB',\n        backgroundColor: '#EF4040',\n        position: 'topRight',\n        timeout: 3000,\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n}\n\nfunction renderImages(arr) {\n  const markup = imageMarkupTemplate(arr);\n  refs.markupEl.innerHTML = markup;\n}\n\nconst gallery = new SimpleLightbox('.gallery-item a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nfunction showLoader() {\n  refs.loader.classList.remove('hidden');\n}\nfunction hideLoader() {\n  refs.loader.classList.add('hidden');\n}\n"],"names":["imageMarkupTemplate","arr","item","onSearchImages","inputValue","BASE_URL","END_POINT","params","value","refs","hideLoader","onFormSubmit","e","showLoader","iziToast","renderImages","gallery","error","markup","SimpleLightbox"],"mappings":"6vBAAO,SAASA,EAAoBC,EAAK,CACvC,OAAOA,EACJ,IAAIC,GACI;AAAA,kCACqBA,EAAK,aAAa;AAAA;AAAA;AAAA,aAGvCA,EAAK,YAAY;AAAA,aACjBA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAMmBA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,yCAIVA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,yCAIVA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,yCAIbA,EAAK,SAAS;AAAA;AAAA;AAAA,MAIlD,EACA,KAAK,EAAE,CACZ,CChCO,SAASC,EAAeC,EAAY,CACzC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAO,MAAM,GAAGC,CAAQ,GAAGC,CAAS,IAAIC,CAAM,EAAE,EAAE,KAAKC,GAAS,CAC9D,GAAI,CAACA,EAAM,GAAI,MAAM,IAAI,MAAMA,EAAM,MAAM,EAC3C,OAAOA,EAAM,MACjB,CAAG,CACH,CCPA,MAAMC,EAAO,CACX,OAAQ,SAAS,cAAc,UAAU,EACzC,cAAe,SAAS,cAAc,eAAe,EACrD,YAAa,SAAS,cAAc,aAAa,EACjD,SAAU,SAAS,cAAc,SAAS,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAC,IAEAD,EAAK,OAAO,iBAAiB,SAAUE,CAAY,EAEnD,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAChBC,IACAJ,EAAK,SAAS,UAAY,GAC1B,MAAML,EAAaK,EAAK,OAAO,SAAS,MAAM,MAAM,OAC/CL,IACLK,EAAK,OAAO,QACZN,EAAeC,CAAU,EACtB,KAAKI,GAAS,CACb,GAAI,CAACA,EAAM,KAAK,OAAQ,CACtBM,EAAS,KAAK,CACZ,MAAO,OACP,WAAY,UACZ,QACE,2EACF,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,QAAS,GACnB,CAAS,EACD,MACD,CACDC,EAAaP,EAAM,IAAI,EACvBQ,EAAQ,QAAO,CACrB,CAAK,EACA,MAAMC,GAAS,CACdH,EAAS,MAAM,CACb,MAAO,QACP,WAAY,UACZ,QAAS,yBACT,SAAU,WACV,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,QAAS,GACjB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbJ,GACN,CAAK,EACL,CAEA,SAASK,EAAad,EAAK,CACzB,MAAMiB,EAASlB,EAAoBC,CAAG,EACtCQ,EAAK,SAAS,UAAYS,CAC5B,CAEA,MAAMF,EAAU,IAAIG,EAAe,kBAAmB,CACpD,aAAc,MACd,aAAc,GAChB,CAAC,EAED,SAASN,GAAa,CACpBJ,EAAK,OAAO,UAAU,OAAO,QAAQ,CACvC,CACA,SAASC,GAAa,CACpBD,EAAK,OAAO,UAAU,IAAI,QAAQ,CACpC"}